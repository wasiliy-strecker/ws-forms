static public function activate() {
		global $wpdb;
		$table_name_addresses = $wpdb->prefix . 'wsf_addresses';
		$table_name_appointments = $wpdb->prefix . 'wsf_appointments';
        $table_name_products = $wpdb->prefix . 'wsf_products';
        $table_name_product_media = $wpdb->prefix . 'wsf_product_media';
        $table_name_orders = $wpdb->prefix . 'wsf_orders';
		$charset_collate = $wpdb->get_charset_collate();

		require_once(ABSPATH . 'wp-admin/includes/upgrade.php');

		// 1. Tabelle für Adressen
		// Beachte: Zwei Leerzeichen nach PRIMARY KEY und keine Backticks
		$sql_addresses = "CREATE TABLE $table_name_addresses (
        id bigint(20) NOT NULL AUTO_INCREMENT,
        user_id bigint(20) NOT NULL,
        address_type varchar(50) DEFAULT 'default' NOT NULL,
        street varchar(255) NOT NULL,
        zip varchar(20) NOT NULL,
        city varchar(100) NOT NULL,
        country varchar(100) DEFAULT 'DE' NOT NULL,
        created_at datetime DEFAULT CURRENT_TIMESTAMP NOT NULL,
        PRIMARY KEY  (id),
        KEY user_id (user_id)
    ) $charset_collate;";

		dbDelta($sql_addresses);

		// 2. Tabelle für Termine
		// Korrektur: Backticks entfernt, Engine/Charset über Variable gesteuert
		$sql_appointments = "CREATE TABLE $table_name_appointments (
        id bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
        user_id bigint(20) UNSIGNED NOT NULL,
        title varchar(255) NOT NULL,
        description text DEFAULT NULL,
        start_date datetime NOT NULL,
        end_date datetime NOT NULL,
        status varchar(50) DEFAULT 'scheduled',
        apple_wallet_token varchar(255) DEFAULT NULL,
        created_at datetime DEFAULT CURRENT_TIMESTAMP,
        PRIMARY KEY  (id),
        KEY user_id (user_id)
    ) $charset_collate;";

		dbDelta($sql_appointments);

        $sql_products = "CREATE TABLE $table_name_products (
      id bigint(20) NOT NULL AUTO_INCREMENT,
      title varchar(255) NOT NULL,
      sku varchar(100) NOT NULL,
      price decimal(10,2) NOT NULL,
      tax_rate decimal(5,2) DEFAULT '19.00' NOT NULL,
      currency varchar(3) DEFAULT 'EUR' NOT NULL,
      status varchar(50) DEFAULT 'active' NOT NULL,
      media int(11) DEFAULT 0 NOT NULL,
      created_at datetime DEFAULT CURRENT_TIMESTAMP NOT NULL,
      updated_at datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
      PRIMARY KEY  (id),
      UNIQUE KEY sku (sku),
      KEY status (status),
      KEY created_at (created_at),
      KEY title (title)
  ) $charset_collate;";

        dbDelta($sql_products);

        $sql_product_media = "CREATE TABLE $table_name_product_media (
    id bigint(20) NOT NULL AUTO_INCREMENT,
    product_id bigint(20) NOT NULL,
    wp_id bigint(20) NOT NULL,
    menu_order int(11) DEFAULT 0 NOT NULL,
    created_at datetime DEFAULT CURRENT_TIMESTAMP NOT NULL,
    PRIMARY KEY  (id),
    KEY product_id (product_id),
    KEY wp_id (wp_id)
) $charset_collate;";

        dbDelta($sql_product_media);

        $sql_orders = "CREATE TABLE $table_name_orders (
        id bigint(20) NOT NULL AUTO_INCREMENT,
        order_number varchar(100) NOT NULL,
        user_id bigint(20) NOT NULL,
        total_price_brutto decimal(10,2) NOT NULL,
        total_price_netto decimal(10,2) NOT NULL,
        currency varchar(3) DEFAULT 'EUR' NOT NULL,
        status varchar(50) DEFAULT 'pending' NOT NULL,
        payment_method varchar(100) DEFAULT '' NOT NULL,
        billing_address_id bigint(20) DEFAULT 0 NOT NULL,
        shipping_address_id bigint(20) DEFAULT 0 NOT NULL,
        created_at datetime DEFAULT CURRENT_TIMESTAMP NOT NULL,
        updated_at datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
        PRIMARY KEY  (id),
        UNIQUE KEY order_number (order_number),
        KEY user_id (user_id),
        KEY status (status)
    ) $charset_collate;";

        dbDelta($sql_orders);

        $sql_order_items = "CREATE TABLE " . $wpdb->prefix . "wsf_order_items (
        id bigint(20) NOT NULL AUTO_INCREMENT,
        order_id bigint(20) NOT NULL,
        order_number varchar(100) NOT NULL,
        product_id bigint(20) NOT NULL,
        product_title varchar(255) NOT NULL,
        sku varchar(100) NOT NULL,
        price_brutto decimal(10,2) NOT NULL,
        price_netto decimal(10,2) NOT NULL,
        tax decimal(10,2) NOT NULL,
        units int(11) DEFAULT 1 NOT NULL,
        total_price_brutto decimal(10,2) NOT NULL,
        total_price_netto decimal(10,2) NOT NULL,
        PRIMARY KEY  (id),
        KEY order_id (order_id),
        KEY order_number (order_number),
        KEY product_id (product_id)
    ) $charset_collate;";

        dbDelta($sql_order_items);

	}